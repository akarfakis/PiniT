@model PiniT.ViewModels.IndexProductsVM

@{
   // ViewBag.Title = "Index";
}

<h2>@ViewBag.Title</h2>

<p>
    @Html.ActionLink("Create New", "Create")
</p>

@using (Html.BeginForm("CustomerIndex", "Products", FormMethod.Get))
{
    <div id="filters" class="row">
        <div class="col-6 px-1">
            @Html.EditorFor(x => x.Search, new { htmlAttributes = new { @class = "form-control", placeholder = "Search by product name" } })
        </div>
        <div class="col-4 px-1">
            @Html.DropDownListFor(x => x.Category, (SelectList)ViewBag.Categories, "Category", new { @class = "form-control" })
        </div>
        @*<div class="col-2 px-1">
                @Html.EnumDropDownListFor(x => x.SortBy, "Sort By", new { @class = "form-control" })
            </div>*@
        <div class="col-2 px-1">
            <button type="submit" class="btn btn-primary btn-block">Search</button>
        </div>
    </div>
}
<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(x => x.Product.Name)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Product.CategoryId)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Product.Description)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Product.Price)
        </th>
        <th></th>
    </tr>

    @foreach (var product in Model.Products)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => product.Name)
            </td>
            <td>
                @Html.DisplayFor(modelItem => product.CategoryId)
            </td>
            <td>
                @Html.DisplayFor(modelItem => product.Description)
            </td>
            <td>
                @Html.DisplayFor(modelItem => product.Price)
            </td>
        </tr>
    }

</table>
